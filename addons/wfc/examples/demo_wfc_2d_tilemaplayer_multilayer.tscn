[gd_scene load_steps=9 format=4 uid="uid://c183b4u6je7mj"]

[ext_resource type="TileSet" uid="uid://f5ab14o2k2wy" path="res://addons/wfc/examples/assets/kenney-tiny-dungeon/tile-set-main.tres" id="1_wligw"]
[ext_resource type="Script" path="res://addons/wfc/problems/2d/mappers/mapper_2d_factory.gd" id="2_nbdfy"]
[ext_resource type="TileSet" uid="uid://drvu3d0pwtf50" path="res://addons/wfc/examples/assets/kenney-tiny-dungeon/tile-set-decorations.tres" id="2_so28k"]
[ext_resource type="Script" path="res://addons/wfc/nodes/layered_map_2d.gd" id="3_orkfj"]
[ext_resource type="Script" path="res://addons/wfc/nodes/generator_2d.gd" id="4_xxxg8"]
[ext_resource type="PackedScene" uid="uid://dt2nffs32s7o1" path="res://addons/wfc/examples/helpers/progress_indicator.tscn" id="5_5glsc"]

[sub_resource type="GDScript" id="GDScript_fodhb"]
script/source = "extends Node2D


func _ready() -> void:
	$sample.hide()
	$target.show()
	$WFC2DGenerator.start()
"

[sub_resource type="Resource" id="Resource_7ap8n"]
script = ExtResource("2_nbdfy")

[node name="DemoWfc2dTilemaplayerMultilayer" type="Node2D"]
script = SubResource("GDScript_fodhb")

[node name="WFC2DGenerator" type="Node" parent="."]
script = ExtResource("4_xxxg8")
target = NodePath("../target")
rect = Rect2i(0, 0, 121, 68)
positive_sample = NodePath("../sample")
render_intermediate_results = true

[node name="progressIndicator" parent="." node_paths=PackedStringArray("generator") instance=ExtResource("5_5glsc")]
generator = NodePath("../WFC2DGenerator")

[node name="sample" type="Node" parent="."]
script = ExtResource("3_orkfj")
mapper_factory = SubResource("Resource_7ap8n")

[node name="main" type="TileMapLayer" parent="sample"]
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAQAAAABAAAAAAAAAAQAAAACAAAAAAAAAAQAAAADAAAAAAAAAAQAAAAEAAAAAAAAAAQAAAAFAAAAAAAAAAQAAAAGAAAAAAAAAAQAAAAHAAAAAAAAAAQAAAAIAAAAAAAAAAQAAAAJAAAAAAAAAAQAAAAKAAAAAAAAAAQAAAALAAAAAAAAAAQAAAAMAAAAAAAAAAQAAAANAAAAAAAAAAQAAAAOAAAAAAAAAAQAAAAPAAAAAAAAAAQAAAAAAAEAAAAAAAQAAAAAAAIAAAAAAAQAAAAAAAMAAAAAAAQAAAAAAAQAAAAAAAQAAAAAAAUAAAAAAAQAAAAAAAYAAAAAAAQAAAAAAAcAAAAAAAQAAAAAAAgAAAAAAAQAAAAAAAkAAAAAAAQAAAAAAAoAAAAAAAQAAAAAAAsAAAAAAAQAAAABAAEAAAAEAAAAAAABAAcAAAAEAAEAAAAPAAcAAAAFAAEAAAAPAAEAAAAFAAAAAAAPAAIAAAABAAEAAAAPAAMAAAABAAEAAAAPAAQAAAABAAEAAAAPAAUAAAABAAEAAAAPAAYAAAABAAEAAAABAAIAAAADAAEAAAABAAMAAAADAAEAAAABAAQAAAADAAEAAAABAAUAAAADAAEAAAABAAYAAAADAAEAAAACAAcAAAACAAAAAAADAAcAAAACAAAAAAAEAAcAAAACAAAAAAAFAAcAAAACAAAAAAAGAAcAAAACAAAAAAAHAAcAAAACAAAAAAAIAAcAAAAGAAAAAAAJAAcAAAACAAAAAAAKAAcAAAACAAAAAAALAAcAAAACAAAAAAAMAAcAAAACAAAAAAANAAcAAAACAAAAAAAOAAcAAAACAAAAAAACAAEAAAACAAIAAAADAAEAAAACAAIAAAAEAAEAAAACAAIAAAAFAAEAAAACAAIAAAAGAAEAAAACAAIAAAAHAAEAAAACAAIAAAAIAAEAAAACAAIAAAAJAAEAAAACAAIAAAAKAAEAAAACAAIAAAALAAEAAAACAAIAAAAMAAEAAAACAAIAAAANAAEAAAACAAIAAAAOAAEAAAACAAIAAAAEAAMAAAABAAAAAAAFAAMAAAACAAAAAAAGAAMAAAACAAAAAAAHAAMAAAADAAAAAAAEAAQAAAABAAEAAAAHAAQAAAADAAEAAAAFAAQAAAACAAEAAAAGAAQAAAACAAEAAAACAAgAAAACAAEAAAADAAgAAAAEAAMAAAAEAAgAAAAEAAIAAAAGAAgAAAAFAAIAAAAIAAgAAAAGAAEAAAAIAAkAAAAGAAIAAAAKAAgAAAAHAAAAAAAKAAkAAAAHAAMAAAAMAAgAAAAIAAEAAAAMAAkAAAAIAAIAAAACAAkAAAADAAQAAAAEAAkAAAADAAQAAAADAAkAAAACAAQAAAAFAAkAAAACAAQAAAAGAAkAAAACAAQAAAAHAAkAAAACAAQAAAABAAkAAAACAAQAAAAJAAkAAAACAAQAAAALAAkAAAACAAQAAAANAAkAAAACAAQAAAAOAAkAAAAIAAMAAAAPAAkAAAACAAQAAAAPAAgAAAALAAQAAAABAAgAAAAJAAQAAAAFAAgAAAAEAAMAAAAHAAgAAAAEAAMAAAAJAAgAAAAEAAMAAAALAAgAAAAEAAMAAAANAAgAAAAEAAMAAAAOAAgAAAAIAAAAAAACAAYAAAAAAAAAAAACAAUAAAAAAAAAAAACAAQAAAAAAAAAAAACAAMAAAAAAAAAAAACAAIAAAAAAAAAAAADAAIAAAAAAAAAAAADAAMAAAAAAAAAAAADAAQAAAAAAAAAAAADAAUAAAAAAAAAAAADAAYAAAAAAAAAAAAEAAYAAAABAAIAAAAFAAYAAAACAAIAAAAGAAYAAAACAAIAAAAHAAYAAAADAAIAAAAIAAYAAAAAAAAAAAAJAAYAAAAAAAAAAAAIAAUAAAAAAAAAAAAIAAQAAAAAAAAAAAAIAAMAAAAAAAAAAAAIAAIAAAAAAAAAAAAHAAIAAAAAAAAAAAAGAAIAAAAAAAAAAAAFAAIAAAAAAAAAAAAEAAIAAAAAAAAAAAAJAAIAAAAAAAAAAAAJAAUAAAAAAAIAAAALAAQAAAAAAAEAAAAJAAQAAAAAAAAAAAAKAAQAAAAAAAAAAAAKAAUAAAAAAAAAAAAKAAYAAAAAAAAAAAALAAYAAAAAAAAAAAALAAUAAAAAAAAAAAAMAAUAAAAAAAAAAAAMAAYAAAAAAAAAAAANAAYAAAAAAAAAAAAOAAYAAAAAAAAAAAAOAAUAAAAAAAAAAAANAAUAAAAAAAAAAAANAAQAAAAAAAAAAAAMAAQAAAAAAAAAAAAMAAMAAAAAAAAAAAANAAMAAAAAAAAAAAAOAAMAAAAAAAAAAAAOAAQAAAAAAAAAAAAOAAIAAAAAAAAAAAANAAIAAAAAAAAAAAAMAAIAAAAAAAAAAAALAAIAAAAAAAAAAAALAAMAAAAAAAAAAAAKAAMAAAAAAAAAAAAJAAMAAAAAAAAAAAAKAAIAAAAAAAAAAAAQAAAAAAAAAAQAAAAQAAEAAAAAAAQAAAAQAAIAAAAAAAQAAAAQAAMAAAAAAAQAAAAQAAQAAAAAAAQAAAAQAAUAAAAAAAQAAAAQAAYAAAAAAAQAAAAQAAcAAAAAAAQAAAAQAAgAAAAAAAQAAAAQAAkAAAAAAAQAAAAQAAoAAAAAAAQAAAAQAAsAAAAAAAQAAAAQAAwAAAAAAAQAAAAQAA0AAAAAAAQAAAAPAA0AAAAAAAQAAAAOAA0AAAAAAAQAAAANAA0AAAAAAAQAAAAMAA0AAAAAAAQAAAALAA0AAAAAAAQAAAAKAA0AAAAAAAQAAAAJAA0AAAAAAAQAAAAIAA0AAAAAAAQAAAAHAA0AAAAAAAQAAAAGAA0AAAAAAAQAAAAFAA0AAAAAAAQAAAAEAA0AAAAAAAQAAAADAA0AAAAAAAQAAAACAA0AAAAAAAQAAAABAA0AAAAAAAQAAAAAAA0AAAAAAAQAAAAAAAwAAAAAAAQAAAABAAwAAAABAAQAAAACAAwAAAAAAAQAAAADAAwAAAAFAAMAAAAEAAwAAAAAAAQAAAAFAAwAAAAAAAQAAAAGAAwAAAAAAAQAAAAHAAwAAAAAAAQAAAAIAAwAAAAAAAQAAAAJAAwAAAAAAAQAAAAKAAwAAAAAAAQAAAALAAwAAAAAAAQAAAAMAAwAAAAAAAQAAAANAAwAAAAAAAQAAAAOAAwAAAAAAAQAAAAPAAwAAAAAAAQAAAAPAAsAAAAAAAQAAAAOAAsAAAAAAAQAAAANAAsAAAAAAAQAAAAMAAsAAAAAAAQAAAALAAoAAAAAAAQAAAAKAAoAAAAAAAQAAAAJAAoAAAAAAAQAAAAIAAoAAAAAAAQAAAAHAAoAAAAAAAQAAAAGAAoAAAAAAAQAAAAFAAoAAAAAAAQAAAAEAAoAAAAAAAQAAAADAAoAAAAAAAQAAAACAAoAAAAAAAQAAAABAAoAAAAAAAQAAAABAAsAAAAAAAQAAAACAAsAAAABAAQAAAADAAsAAAAAAAQAAAAEAAsAAAAGAAMAAAAFAAsAAAAAAAQAAAAGAAsAAAAAAAQAAAAHAAsAAAAAAAQAAAAIAAsAAAAAAAQAAAAJAAsAAAAAAAQAAAAKAAsAAAAAAAQAAAALAAsAAAAAAAQAAAAMAAoAAAAAAAQAAAANAAoAAAAAAAQAAAAOAAoAAAAAAAQAAAAPAAoAAAAAAAQAAAAQAA4AAAAAAAQAAAAQAA8AAAAAAAQAAAAQABAAAAAAAAQAAAAQABEAAAAAAAQAAAAQABIAAAAAAAQAAAAPABIAAAAAAAQAAAAOABIAAAAAAAQAAAANABIAAAAAAAQAAAAMABIAAAAAAAQAAAALABIAAAAAAAQAAAAKABIAAAAAAAQAAAAJABIAAAAAAAQAAAAIABIAAAAAAAQAAAAIABEAAAAAAAQAAAAIABAAAAAAAAQAAAAIAA8AAAAAAAQAAAAIAA4AAAAAAAQAAAAJAA4AAAAAAAQAAAAKAA4AAAAAAAQAAAALAA4AAAAAAAQAAAAMAA4AAAAAAAQAAAANAA4AAAAAAAQAAAAOAA4AAAAAAAQAAAAPAA4AAAAAAAQAAAAPAA8AAAAAAAQAAAAPABAAAAAAAAQAAAAPABEAAAAAAAQAAAAOABEAAAAAAAQAAAANABEAAAAAAAQAAAAMABEAAAAAAAQAAAALABEAAAAAAAQAAAAKABEAAAAAAAQAAAAJABEAAAAAAAQAAAAJABAAAAAAAAQAAAAJAA8AAAAAAAQAAAAKAA8AAAAAAAQAAAALAA8AAAAAAAQAAAAMAA8AAAAAAAQAAAANAA8AAAAAAAQAAAANABAAAAAAAAQAAAAOABAAAAAAAAQAAAAOAA8AAAAAAAQAAAAMABAAAAAAAAQAAAALABAAAAAAAAQAAAAKABAAAAAAAAQAAAAFAAUAAAACAAQAAAAGAAUAAAACAAQAAAAHAAUAAAADAAEAAAAEAAUAAAABAAEAAAA=")
tile_set = ExtResource("1_wligw")

[node name="decorations" type="TileMapLayer" parent="sample"]
tile_map_data = PackedByteArray("AAAGAAoAAAAFAAUAAAADAAoAAAACAAYAAAAFAAwAAAABAAYAAAABAAoAAAAFAAcAAAAJAAsAAAAHAAUAAAAJAAwAAAAJAAYAAAAJAA0AAAAIAAUAAAAMAAsAAAAHAAYAAAANAAsAAAAKAAUAAAAOAAsAAAAIAAYAAAAMAA0AAAAJAAUAAAAMAA4AAAAJAAYAAAAMAA8AAAAJAAYAAAAMABAAAAAJAAcAAAANABAAAAAKAAUAAAAOABAAAAAKAAUAAAAPABAAAAALAAcAAAAPAA8AAAAJAAYAAAAPAA4AAAAJAAYAAAAPAA0AAAALAAUAAAANAA0AAAAKAAUAAAAOAA0AAAAKAAUAAAAJAA8AAAAKAAYAAAAJABEAAAAGAAUAAAAJAAMAAAACAAYAAAA=")
tile_set = ExtResource("2_so28k")

[node name="target" type="Node" parent="."]
script = ExtResource("3_orkfj")
mapper_factory = SubResource("Resource_7ap8n")

[node name="main" type="TileMapLayer" parent="target"]
tile_set = ExtResource("1_wligw")

[node name="decorations" type="TileMapLayer" parent="target"]
tile_set = ExtResource("2_so28k")
